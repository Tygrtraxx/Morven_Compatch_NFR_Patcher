<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Morven_Compatch_NFR_Patcher.ViewModels"
             mc:Ignorable="d" d:DesignWidth="650" d:DesignHeight="600"
             x:Class="Morven_Compatch_NFR_Patcher.Views.MainView"
             x:DataType="vm:MainViewModel">
	<Design.DataContext>
		<vm:MainViewModel />
	</Design.DataContext>
	<Grid Margin="20">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<!-- Title -->
			<RowDefinition Height="*"/>
			<!-- Console output -->
			<RowDefinition Height="Auto"/>
			<!-- File selectors -->
			<RowDefinition Height="Auto"/>
			<!-- Button and version info -->
		</Grid.RowDefinitions>

		<!-- Title with a Border that stretches across the window -->
		<Border Grid.Row="0"
				BorderBrush="DarkRed"
				BorderThickness="2"
				CornerRadius="5"
				Padding="5"
				HorizontalAlignment="Stretch"
				Margin="0,0,0,10">
			<TextBlock Text="Morven Compatch NFR Patcher"
					   FontSize="24"
					   HorizontalAlignment="Center"
					   VerticalAlignment="Center"/>
		</Border>

		<!-- Console Output Box with enhanced styling using a read-only TextBox that remains black -->
		<Border Grid.Row="1"
				Background="#1e1e1e"
				BorderBrush="DarkRed"
				BorderThickness="3"
				CornerRadius="4"
				Margin="0,10">
			<ScrollViewer VerticalScrollBarVisibility="Auto"
						  HorizontalScrollBarVisibility="Disabled">
				<TextBox IsReadOnly="True"
						 AcceptsReturn="True"
						 TextWrapping="Wrap"
						 Background="Black"
						 Foreground="White"
						 FontFamily="Consolas"
						 BorderThickness="0"
						 Padding="20"
						 Text="Welcome to the Morven Compatch : NFR Patcher&#x0a;&#x0a;Please locate your mod and Steam folder and choose them. After, click Patch to begin.">
					<TextBox.Styles>
						<!-- Ensure the outer TextBox always has a black background -->
						<Style Selector="TextBox">
							<Setter Property="Background" Value="Black"/>
						</Style>
						<Style Selector="TextBox:pointerover">
							<Setter Property="Background" Value="Black"/>
						</Style>
						<Style Selector="TextBox:focused">
							<Setter Property="Background" Value="Black"/>
						</Style>
						<Style Selector="TextBox:disabled">
							<Setter Property="Background" Value="Black"/>
						</Style>
						<Style Selector="TextBox:pressed">
							<Setter Property="Background" Value="Black"/>
						</Style>
						<!-- Override the internal template Border that displays the background -->
						<Style Selector="TextBox /template/ Border">
							<Setter Property="Background" Value="Black"/>
						</Style>
					</TextBox.Styles>
				</TextBox>
			</ScrollViewer>
		</Border>

		<!-- File Selectors -->
		<StackPanel Grid.Row="2" Orientation="Vertical" Margin="0,10,0,10" Spacing="5">
			<!-- Steam Folder Selector -->
			<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="5">
				<TextBlock Text="Steam Folder:" VerticalAlignment="Center" Width="100"/>
				<TextBox x:Name="SteamFolderTextBox"
						 Text="{Binding SteamFolder, Mode=TwoWay}"
						 Width="350"
						 Watermark="Select Steam folder"/>
				<!-- Browse button with inline hover/pressed styling -->
				<Button Content="Browse..."
						Width="75"
						Background="#a9cea1">
					<Button.Styles>
						<Style Selector="Button:pointerover /template/ ContentPresenter">
							<Setter Property="Background" Value="Green"/>
							<Setter Property="BorderThickness" Value="1"/>
							<Setter Property="BorderBrush" Value="DarkRed"/>
						</Style>
					</Button.Styles>
				</Button>
				<!-- Clickable question mark image for Steam folder -->
				<Button Width="35" Height="35" Background="Transparent" BorderThickness="0" Click="SteamQuestionMark_Click">
					<Image Source="avares://Morven_Compatch_NFR_Patcher/Assets/images/questionmark.png"
						   Width="35" Height="35"/>
				</Button>
			</StackPanel>

			<!-- Mod Folder Selector -->
			<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="5">
				<TextBlock Text="Mod Folder:" VerticalAlignment="Center" Width="100"/>
				<TextBox x:Name="ModFolderTextBox"
						 Text="{Binding ModFolder, Mode=TwoWay}"
						 Width="350"
						 Watermark="Select mod folder"/>
				<!-- Browse button with inline hover/pressed styling -->
				<Button Content="Browse..."
						Width="75"
						Background="#a9cea1">
					<Button.Styles>
						<Style Selector="Button:pointerover /template/ ContentPresenter">
							<Setter Property="Background" Value="Green"/>
							<Setter Property="BorderThickness" Value="1"/>
							<Setter Property="BorderBrush" Value="DarkRed"/>
						</Style>
					</Button.Styles>
				</Button>
				<!-- Clickable question mark image for Mod folder -->
				<Button Width="35" Height="35" Background="Transparent" BorderThickness="0" Click="ModQuestionMark_Click">
					<Image Source="avares://Morven_Compatch_NFR_Patcher/Assets/images/questionmark.png"
						   Width="35" Height="35"/>
				</Button>
			</StackPanel>
		</StackPanel>

		<!-- Patch Button and Version Info -->
		<Grid Grid.Row="3">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>
			<!-- Enlarged Patch Button (with centered text) that is disabled until both files are selected -->
			<Button Grid.Row="0"
					Content="Patch"
					HorizontalAlignment="Center"
					Width="150"
					Height="40"
					Margin="0,10"
					FontSize="25"
					IsEnabled="{Binding CanPatch}"
					HorizontalContentAlignment="Center"
					VerticalContentAlignment="Center"
					Background="Black"
					Foreground="LightBlue"/>
			<!-- Version Info -->
			<TextBlock Grid.Row="1"
					   Text="v1.0.0 by Tygrtraxx"
					   HorizontalAlignment="Right"
					   VerticalAlignment="Bottom"
					   FontSize="13"/>
		</Grid>

	</Grid>
</UserControl>
